<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Demos for D3</title>
	<link rel="stylesheet" type="text/css" href="../style/main.css">
</head>
<body onload="makeList()">
	<h2 class="title">创建HTML元素：生成列表，点击变色</h2>
</body>
<script src="../js/d3.v7.js"></script>
<script>
	// mock a list
	function makeList() {
		let list = ["North", "South", "West", "East"]
		// 外层容器
		d3.select("body")
			//插入ul元素
			.append("ul")
			// 为列表项创建空占位符
			.selectAll("li")
			// 绑定数据集
			.data(list).enter()
			// 根据数据集为每一个数据点添加列表项和内容
			.append("li").text(d => d)
			// 响应点击事件
			.on("click", function () {
				// 状态
				this.toggleState = !this.toggleState
				// 当前点击的元素
				d3.select(this)
					// 动画
					.transition().duration(1000)
					// 设置颜色
					.style("color", this.toggleState ? "red" : "black")
			})
	}
</script>
</html>