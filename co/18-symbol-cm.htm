<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Demos for D3</title>
	<link rel="stylesheet" type="text/css" href="../style/main.css">
</head>
<body onload="init()">
	<h2 class="title">自定义符号</h2>
	<svg width="600" height="300">
		<!-- 自定义组件 -->
		<defs>
			<g id="cross">
				<circle cx="0" cy="0" r="2" fill="none"/>
				<line x1="-3" y1="0" x2="-1" y2="0" />
				<line x1="1" y1="0" x2="3" y2="0" />
				<line x1="0" y1="-1" x2="0" y2="-3" />
				<line x1="0" y1="1" x2="0" y2="3" />
			</g>
		</defs>
	</svg>
</body>
<script src="../js/d3.v7.js"></script>
<script>
	function init() {
		//复用多个。0=移动位置；1=缩放大小
		let data = [ [150, 1], [230, 3], [310, 2], [400, 4] ]

		//画布
		d3.select("svg")
			.selectAll("use").data(data).enter().append("use")
				.attr("href", "#cross")
				.attr("stroke", "black")
				.attr("stroke-width", d => 0.5/Math.sqrt(d[1]))
				.attr("transform", d => `translate(${d[0]}, 150) scale(${2*d[1]})`)
	}
</script>
</html>